(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1079:function(e,a,t){"use strict";t.r(a);var n=t(28),l=t(16),r=t(17),i=t(21),s=t(19),o=t(20),c=t(154),m=t(1),u=t.n(m),p=t(521),d=t(53),g="https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/calendar.events",h=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],v=function(e){function a(e){var t;Object(l.a)(this,a),(t=Object(i.a)(this,Object(s.a)(a).call(this,e))).state={full_name:"",email:"",phone:"",sign:!1},t.updateSigninStatus=function(e){e?t.setState({sign:!0}):gapi.auth2.getAuthInstance().signIn()},t.handlerBook=function(){var e=t.props.initBooking;if(null!==e){e.full_name=t.state.full_name,e.email=t.state.email,e.phone=t.state.phone;var a=new Date(e.pick_time.getTime());a.setHours(a.getHours()+1);var n={summary:e.address_name,location:e.address_name,description:"Site Visit Booking description",start:{dateTime:e.pick_time,timeZone:"Australia/Sydney"},end:{dateTime:a,timeZone:"Australia/Sydney"},recurrence:[],attendees:[e.s_email],reminders:{}},l=gapi.client.calendar.events.insert({calendarId:"i1abpli3aeg294vnnjl2g9q8js@group.calendar.google.com",resource:n}),r=Object(c.a)(Object(c.a)(t));l.execute(function(a){a&&(e.eid=a.id,r.props.postBook(e))})}else d.a.push("/")};var n=Object(c.a)(Object(c.a)(t));return gapi.load("client:auth2",function(){gapi.client.init({apiKey:"AIzaSyCM8P00S1q3Y8MNmEcIZhrQXCCOKS731YU",client_id:"651530402004-48qeq8d1p5uoo84a37rpfraf24n3oavk.apps.googleusercontent.com",discoveryDocs:h,scope:g}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(n.updateSigninStatus),n.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get())})}),t}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){null!==this.props.initBooking||d.a.push("/")}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"solo"},u.a.createElement("div",{className:"header"},u.a.createElement("div",{className:"js-profile-region"},u.a.createElement("div",{className:"wrapper"},u.a.createElement("div",{className:"icon-arrow-left js-step-back step-back"},"\xa0"),u.a.createElement("div",{className:"title-wrapper"},u.a.createElement("div",{className:"mbs phs popover-holder"},u.a.createElement("div",{className:"increased popover-toggle silent disabled"})))))),u.a.createElement("hr",{className:"mbl"}),u.a.createElement("div",{className:"wrapper"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-lg-12"},u.a.createElement("h2",{className:"mbm"},"Enter Details"),u.a.createElement("div",{className:"mt-10"},u.a.createElement("div",null,u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"full_name"},"Full Name *"),u.a.createElement("input",{value:this.state.full_name,onChange:function(a){return e.setState({full_name:a.target.value})},className:"large-text form-control",type:"text",name:"full_name"}),u.a.createElement("span",{"data-error":"full_name"})),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"email"},"Your e-mail address *"),u.a.createElement("input",{value:this.state.email,onChange:function(a){return e.setState({email:a.target.value})},className:"large-text form-control",type:"email",name:"email"}),u.a.createElement("span",{"data-error":"email"})),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"phonenumber"},"Your phone number *"),u.a.createElement("input",{value:this.state.phone,onChange:function(a){return e.setState({phone:a.target.value})},className:"large-text form-control",type:"text",name:"phonenumber"}),u.a.createElement("span",{"data-error":"phonenumber"})))),u.a.createElement("div",{className:"ptm"},u.a.createElement("button",{className:"mr-10 mb-10 btn btn-primary",onClick:function(a){return e.handlerBook(a)}},"BOOK")))))),this.props.loading&&u.a.createElement(p.a,null))}}]),a}(u.a.Component),f=t(24),E=Object(n.b)(function(e){var a=e.authUser,t=e.allData;return{user:a.user,data:t.data,loading:t.loading,initBooking:t.initBooking}},{postBook:f.q})(v);a.default=E},521:function(e,a,t){"use strict";var n=t(1),l=t.n(n),r=t(147),i=t.n(r);a.a=function(){return l.a.createElement("div",{className:"d-flex justify-content-center loader-overlay"},l.a.createElement(i.a,null))}}}]);
//# sourceMappingURL=6.b0d69d5d.chunk.js.map